extend type Query {
    gameListing(id: ID!): GameListing
}

extend type Mutation {
    assignGameListing(input: AssignGameListingInput!): AssignGameListingPayload!
    unassignGameListing(input: UnassignGameListingInput!): UnassignGameListingPayload!
}

"""
A listing for a game
"""
type GameListing implements Node {
    id: ID!

    dateCreated: DateTime!

    dateUpdated: DateTime!

    game: Game!

    """
    The name of the listing
    """
    name: String!

    """
    A listing may have been generated from a position
    """
    position: Position

    availableAssignees(name: String): [User!]

    """
    The user, if exists, that has been assigned to the listing
    """
    assignee: GameListingAssigneeEdge

    canAssignSelf: Boolean

    canChangeAssignee: Boolean
}

"""
Represents a user assigned to a game listing
"""
type GameListingAssigneeEdge {
    node: User!

    permit: SeasonParticipationPermit!
}

input AssignGameListingInput {
    userId: ID!
    gameListingId: ID!
}

type AssignGameListingPayload {
    success: Boolean!

    gameListing: GameListing
}

input UnassignGameListingInput {
    gameListingId: ID!
}

type UnassignGameListingPayload {
    success: Boolean!
}
